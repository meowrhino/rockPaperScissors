<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>rockPaperScissors!</title>
    <style>
        * {
            font-family: Georgia, 'Times New Roman', Times, serif;
        }


        .title {
            color: midnightblue;
        }

        .options {
            padding: 10px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .choice {
            font-size: 60px;
            padding: 10px 20px;
        }

        h1,
        h2 {
            text-align: center;
        }

        p {
            margin: 5px;
        }

        .results {
            margin: 20px 30px;
            padding: 20px 30px;
            border: 5px dashed indianred;
            text-align: center;
        }

        .lastRound {
            border: 5px dashed maroon;
            padding: 20px;
            margin: 20px 0px;
        }

        .score {
            border: 5px dashed teal;
            padding: 20px;
            margin: 20px 0px;
        }

        .victoryText {
            font-size: 20px;
            color: red;
            font-weight: bold;
        }

        .restart {
            text-align: center;
        }

        #restartButton {
            margin: 20px;
        }
    </style>
</head>

<body>
    <div class="title">
        <h1>fight against a random choice</h1>
        <h2>what is the weapon of your choice?</h2>
    </div>

    <div class="options">
        <button class="choice" id="playerRock">üëä</button>
        <button class="choice" id="playerPaper">üñêÔ∏è</button>
        <button class="choice" id="playerScissors">‚úåÔ∏è</button>
    </div>
    <div class="results">
        <div class="lastRound">

        </div>
        <div class="score">

        </div>
        <div class="victoryText">

        </div>
    </div>
    <div class="restart"></div>

    <script>

        /*each button will activate the playRound function with the chosen argument*/
        const playerRock = document.querySelector("#playerRock");
        playerRock.addEventListener('click', () => {
            playRound("rock");
        });

        const playerPaper = document.querySelector("#playerPaper");
        playerPaper.addEventListener('click', () => {
            playRound("paper");
        });

        const playerScissors = document.querySelector("#playerScissors");
        playerScissors.addEventListener('click', () => {
            playRound("scissors");
        });



        /*the computer's choice is chosen via a random number between 1 and 3
        and then that number is converted into an option*/
        function getRandomInt(max) {
            return Math.floor(Math.random() * max + 1);
        };

        function getComputerChoice() {
            let number = getRandomInt(3);
            let choice;

            switch (number) {
                case 1:
                    choice = "rock";
                    break

                case 2:
                    choice = "paper";
                    break

                case 3:
                    choice = "scissors";
                    break
            }
            return choice
        }



        /*we create the variables for the results to be shown*/
        const results = document.querySelector(".results");
        const lastRound = document.querySelector(".lastRound");
        const score = document.querySelector(".score");
        const br = document.createElement("br");

        /*and also we create those variables for the game to save each round*/
        let computerVictories = 0;
        let playerVictories = 0;
        let ties;

        /*y ahora si han ganado mas de 5 rondas que se pueda reempezar el juego con un boton*/
        const restart = document.querySelector(".restart")
        const restartButton = document.createElement('button');
        restartButton.setAttribute('class', 'choice');
        restartButton.setAttribute('id', 'restartButton');

        restartButton.textContent = '‚ôªÔ∏è';
        restartButton.addEventListener('click', () => {
            restartRound()
        });

        let veredict;

        const victoryText = document.querySelector(".victoryText");
        playerVictoryText = document.createElement('p');
        computerVictoryText = document.createElement('p');
        playerVictoryText.textContent = 'player is the üí•WINNERüí• of 5 rounds';
        computerVictoryText.textContent = 'computer is the üí•WINNERüí• of 5 rounds';

        function addChoiceText(input){
            let textToAdd = '';

            if (input == 'rock') {
                textToAdd = "üëä rock üëä";
            } else if (input == 'paper') {
                textToAdd = "üñêÔ∏è paper üñêÔ∏è";
            } else if (input == 'scissors') {
                textToAdd = "‚úåÔ∏è scissors ‚úåÔ∏è";
            } else {
                textToAdd = "text added!!!";
            }
            return textToAdd;
        }

        function playRound(input) {
            const playerChoice = input;
            const computerChoice = getComputerChoice();

            if (lastRound.childElementCount > 1) {
                lastRound.innerHTML = '';
            }


            const playerChoiceText = document.createElement("p");
            playerChoiceText.textContent = `player choice is ${addChoiceText(playerChoice)}`;
            lastRound.appendChild(playerChoiceText);

            const computerChoiceText = document.createElement("p");
            computerChoiceText.textContent = `computer choice is ${addChoiceText(computerChoice)}`
            lastRound.appendChild(computerChoiceText);



            /*
            const computerChoiceText = document.createTextNode(`computer choice is ${computerChoice}`);
            lastRound.appendChild(computerChoiceText);
            lastRound.appendChild(br.cloneNode(true));
            */

            /*we evaluate the results*/
            if (playerChoice === computerChoice) {
                veredict = "ü™¢ tie ü™¢";

            } else if (playerChoice !== computerChoice) {

                switch (playerChoice) {
                    case "scissors":
                        if (computerChoice == "paper") {
                            veredict = "ü¶∏ player ü¶∏ win";
                        } else if (computerChoice == "rock") {
                            veredict = "ü§ñ computer ü§ñ win";
                        }
                        break

                    case "paper":
                        if (computerChoice == "rock") {
                            veredict = "ü¶∏ player ü¶∏ win";
                        } else if (computerChoice == "scissors") {
                            veredict = "ü§ñ computer ü§ñ win";
                        }
                        break

                    case "rock":
                        if (computerChoice == "scissors") {
                            veredict = "ü¶∏ player ü¶∏ win";
                        } else if (computerChoice == "paper") {
                            veredict = "ü§ñ computer ü§ñ win";
                        }
                        break

                }
            }

            /*we load the results into the variables we created*/
            if (veredict === "ü§ñ computer ü§ñ win") {
                computerVictories++;
            } else if (veredict === "ü¶∏ player ü¶∏ win") {
                playerVictories++;
            } else {
                ties++;
            }



            if (score.childElementCount > 1) {
                score.innerHTML = '';
            }

            /*generar los textos que se imprimir√°n en el div score*/

            function addVeredictText(input){
            let textToAdd = '';

            if (input == playerVictories) {
                textToAdd += playerVictories + " times";
            } else if (input == computerVictories) {
                textToAdd += computerVictories + " times";
            } else if (input == ties) {
                textToAdd += ties + " times";
            } else {
                textToAdd += "text added!!!";
            }

            if (input == 0) {
                textToAdd += " üïõ";
            } else if (input == 1) {
                textToAdd += " üïë";
            } else if (input == 2) {
                textToAdd += " üïì";
            } else if (input == 3) {
                textToAdd += " üïï";
            } else if (input == 4) {
                textToAdd += " üïò";
            } else if (input == 5) {
                textToAdd += " üïõ";
            } else {
                textToAdd = "üí•";
            }

            return textToAdd;
        }

            const veredictText = document.createElement('p');
            veredictText.textContent =`this round ended up in a ${veredict}`;

            const playerVictoriesText = document.createElement('p');
            playerVictoriesText.textContent = `player has won ${addVeredictText(playerVictories)}`;

            const computerVictoriesText = document.createElement('p');
            computerVictoriesText.textContent = `computer has won ${addVeredictText(computerVictories)}`;

            score.appendChild(veredictText);
            score.appendChild(playerVictoriesText);
            score.appendChild(computerVictoriesText);


            if (playerVictories == 5) {
                victoryText.appendChild(playerVictoryText);
                restart.appendChild(restartButton);

                document.querySelector('#playerRock').disabled = true;
                document.querySelector('#playerPaper').disabled = true;
                document.querySelector('#playerScissors').disabled = true;
            }

            if (computerVictories == 5) {
                victoryText.appendChild(computerVictoryText);
                restart.appendChild(restartButton);

                document.querySelector('#playerRock').disabled = true;
                document.querySelector('#playerPaper').disabled = true;
                document.querySelector('#playerScissors').disabled = true;
            }
        }

        function restartRound() {
            ties = 0;
            computerVictories = 0;
            playerVictories = 0;

            lastRound.innerHTML = '';
            score.innerHTML = '';
            victoryText.innerHTML = '';

            restart.removeChild(restartButton);

            document.querySelector('#playerRock').disabled = false;
            document.querySelector('#playerPaper').disabled = false;
            document.querySelector('#playerScissors').disabled = false;
        }


    </script>

</body>

</html>
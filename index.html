<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>rockPaperScissors!</title>
    <style>
        * {
            font-family: Georgia, 'Times New Roman', Times, serif;
        }

        .title {
            color: midnightblue;
        }

        .options {
            padding: 10px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .choice {
            font-size: 60px;
            padding: 10px 20px;
        }

        h1,
        h2 {
            text-align: center;
        }

        #results {
            margin: 10px;
            border: 5px dotted indianred;
        }
    </style>
</head>

<body>
    <div class="title">
        <h1>fight against a random choice</h1>
        <h2>what is the weapon of your choice?</h2>
    </div>

    <div class="options">
        <button class="choice" id="playerRock">üëä</button>
        <button class="choice" id="playerPaper">üñêÔ∏è</button>
        <button class="choice" id="playerScissors">‚úåÔ∏è</button>
    </div>
    <div class="results">

    </div>
    <script>

        /*COMPUTER CHOICE*/
        /*we have to make the computer choose a random choice between rock, paper and scissors
        and for that we want to get an integer from 1 to 3 (1, 2 or 3)*/
        /*and then we convert that number to a valid option for the game*/

        let computerChoice;
        function getRandomInt(max) {
            return Math.floor(Math.random() * max + 1);
        };
        function getComputerChoice() {


            let number = getRandomInt(3);
            let choice;

            switch (number) {
                case 1:
                    choice = "rock";
                    break

                case 2:
                    choice = "paper";
                    break

                case 3:
                    choice = "scissors";
                    break
            }
            return choice
        }

        /*we prepare the variables we'll need for the round*/


        let veredict;



        /*PLAYER CHOICES*/
        let playerChoice;

        const playerRock = document.querySelector("#playerRock");
        playerRock.addEventListener('click', () => {
            playRound("rock");
        });

        const playerPaper = document.querySelector("#playerPaper");
        playerPaper.addEventListener('click', () => {
            playRound("paper");
        });

        const playerScissors = document.querySelector("#playerScissors");
        playerScissors.addEventListener('click', () => {
            playRound("scissors");
        });

        const results = document.querySelector(".results");

        /*THE GAME*/

        /*we also have to be able to store the results of each game to declare the best of 5*/

        let computerVictories = 0;
        let playerVictories = 0;
        let ties;

        function playRound(input) {
            let playerChoice = input;

            const br = document.createElement("br");
            results.appendChild(br);



            const playerChoiceText = document.createTextNode(`player choice is ${playerChoice}`);
            results.appendChild(playerChoiceText);
            results.appendChild(br.cloneNode(true));



            /*we also call the function to get the computer's choice*/
            computerChoice = getComputerChoice();

            const computerChoiceText = document.createTextNode(`computer choice is ${computerChoice}`);
            results.appendChild(computerChoiceText);
            results.appendChild(br.cloneNode(true));
            results.appendChild(br.cloneNode(true));

            /*and we evaluate the results*/

            if (playerChoice === computerChoice) {
                veredict = "tie";

            } else if (playerChoice !== computerChoice) {

                switch (playerChoice) {
                    case "scissors":
                        if (computerChoice == "paper") {
                            veredict = "player wins";
                        } else if (computerChoice == "rock") {
                            veredict = "computer wins";
                        }
                        break

                    case "paper":
                        if (computerChoice == "rock") {
                            veredict = "player wins";
                        } else if (computerChoice == "scissors") {
                            veredict = "computer wins";
                        }
                        break

                    case "rock":
                        if (computerChoice == "scissors") {
                            veredict = "player wins";
                        } else if (computerChoice == "paper") {
                            veredict = "computer wins";
                        }
                        break

                }
            }

            /*and we load the results into the variables we created*/

            if (veredict === "computer wins") {
                computerVictories++;
            } else if (veredict === "player wins") {
                playerVictories++;
            } else {
                ties++;
            }

            const veredictText = document.createTextNode(`veredict is ${veredict}`);
            results.appendChild(veredictText);
            results.appendChild(br.cloneNode(true));

            const playerVictoriesText = document.createTextNode(`player has won ${playerVictories} times`)
            const computerVictoriesText = document.createTextNode(`computer has won ${computerVictories} times`)

            results.appendChild(playerVictoriesText);
            results.appendChild(br.cloneNode(true));
            results.appendChild(computerVictoriesText);
            results.appendChild(br.cloneNode(true));

            if (playerVictories == 5) {
                const playerVictoriesText5 = document.createElement('div');
                playerVictoriesText5.textContent = 'player is the WINNER of 5 rounds';
                playerVictoriesText5.style.fontSize = '20px';
                playerVictoriesText5.style.color = 'red';
                playerVictoriesText5.style.fontWeight = 'bold';

                console.log(playerVictoriesText5);

                results.appendChild(playerVictoriesText5);
            }

            if (computerVictories == 5) {
                const computerVictoriesText5 = document.createElement('div');
                computerVictoriesText5.textContent = 'computer is the WINNER of 5 rounds';
                computerVictoriesText5.style.fontSize = '20px';
                computerVictoriesText5.style.color = 'red';
                computerVictoriesText5.style.fontWeight = 'bold';

                console.log(computerVictoriesText5);

                results.appendChild(computerVictoriesText5);
            }
            results.appendChild(br.cloneNode(true));
            results.appendChild(br.cloneNode(true));

        }

        //playRound();


    </script>

</body>

</html>
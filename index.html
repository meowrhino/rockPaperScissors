<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>rockPaperScissors!</title>
</head>

<body>

    <script>

        /*we have to make the computer choose a random choice
        and for that we want to get an integer from 1 to 3 (1, 2 or 3)*/

        function getRandomInt(max) {
            return Math.floor(Math.random() * max + 1);
        };

        /*and then we assign a choice from rock paper scissors to the number obtained*/

        function getComputerChoice() {
            let number = getRandomInt(3);
            let choice;

            switch (number) {
                case 1:
                    choice = "rock";
                    break

                case 2:
                    choice = "paper";
                    break

                case 3:
                    choice = "scissors";
                    break
            }
            return choice
        }

        /*we prepare the variables we'll need for the round*/

        let computerChoice;
        let playerInput;
        let playerChoice;

        let veredict;

        function playRound(playerChoiceTest, computerChoiceTest) {

            /*we create an input for the player to introduce their choice
            and then another variable to convert the input into a simpler string
            so that ROCK, Rock and rock are all converted to "rock"*/

            /*we also call the function to get the computer's choice*/

            let playerInput = prompt("choose your weapon of choice");
            let playerChoice = playerInput.toLowerCase();

            let computerChoice = getComputerChoice();

            console.log(`player choice is ${playerChoice}`);
            console.log(`computer choice is ${computerChoice}`);

            /*we load the variables into the arguments of the function*/

            playerChoiceTest = playerChoice;
            computerChoiceTest = computerChoice;

            /*and we evaluate the results, we did the tie evaluation like this to save code*/

            if (playerChoice === computerChoice) {
                veredict = "tie";

            } else if (playerChoice !== computerChoice) {

                switch (playerChoice) {
                    case "scissors":
                        if (computerChoice == "paper") {
                            veredict = "player wins";
                        } else if (computerChoice == "rock") {
                            veredict = "computer wins";
                        }
                        break

                    case "paper":
                        if (computerChoice == "rock") {
                            veredict = "player wins";
                        } else if (computerChoice == "scissors") {
                            veredict = "computer wins";
                        }
                        break

                    case "rock":
                        if (computerChoice == "scissors") {
                            veredict = "player wins";
                        } else if (computerChoice == "paper") {
                            veredict = "computer wins";
                        }
                        break

                }
            }
            console.log(veredict);
        }

        /*and we call the function*/

        playRound();

        /*in case there was a tie, we created this for loop so that you cannot escape till a winner is chosen*/

        for (i = 0; i != 1; i) {
            if (veredict === "tie") {
                console.log("THERE WAS A FUCKING TIE");
                playRound();

            } else {
                i++;
            }
        }

        /*ignore this*/

        /*
    
            let playerChoice = "scissors";
            let computerChoice = "paper";
    
            function playRound(playerChoice, computerChoice) {
                if (playerChoice === "rock") {
                    if (computerChoice === "rock") {
                        console.log("it's a tie!!! rock stares at rock :/");
                    } else if (computerChoice === "paper") {
                        console.log("player loses, paper eats rock... yum!");
                    } else if (computerChoice === "scissors") {
                        console.log("player wins! rock beats the shit out of scissors!");
                    }
                } else if (playerChoice === "paper") {
                    if (computerChoice === "rock") {
                        console.log("player wins! paper eats rock... yum!");
                    } else if (computerChoice === "paper") {
                        console.log("it's a tie!!! paper stares at paper :/");
                    } else if (computerChoice === "scissors") {
                        console.log("player loses, scissors obliterates paper!");
                    }
                } else if (playerChoice === "scissors"){
                    if (computerChoice === "rock") {
                        console.log("player loses! rock beats the shit out of scissors!");
                    } else if (computerChoice === "paper") {
                        console.log("player wins! scissors obliterates paper!");
                    } else if (computerChoice === "scissors") {
                        console.log("it's a tie!!! scissors stares at scissors :/");
                    }
                }
            }
    
            playRound();
    */

    </script>

</body>

</html>
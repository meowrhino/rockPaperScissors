<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>rockPaperScissors!</title>
</head>

<body>

    <script>

        /*COMPUTER CHOICE*/
        /*we have to make the computer choose a random choice between rock, paper and scissors
        and for that we want to get an integer from 1 to 3 (1, 2 or 3)*/

        function getRandomInt(max) {
            return Math.floor(Math.random() * max + 1);
        };

        /*and then we convert that number to a valid option for the game*/

        function getComputerChoice() {
            let number = getRandomInt(3);
            let choice;

            switch (number) {
                case 1:
                    choice = "rock";
                    break

                case 2:
                    choice = "paper";
                    break

                case 3:
                    choice = "scissors";
                    break
            }
            return choice
        }

        /*we prepare the variables we'll need for the round*/

        let computerChoice;

        /*players input and choice are different bc we can only take rock as an answer
        so we will convert ROCK and roCk into rock later*/
        let playerInput;
        let playerChoice;

        let veredict;

        

        /*PLAYER CHOICES*/
        const body = document.querySelector('body');

        const playerRock = document.createElement("button");
        //playerRock.cssText = "id: playerRock"
        playerRock.setAttribute('id', 'playerRock');
        playerRock.textContent = "do you choose rock?";
        playerRock.addEventListener('click', () => {
            playRound("rock");
        });

        const playerPaper = document.createElement("button");
        playerPaper.setAttribute('id', 'playerPaper');
        playerPaper.textContent = "do you choose paper?";
        playerPaper.addEventListener('click', () => {
            playRound("paper");
        });

        const playerScissors = document.createElement("button");
        playerScissors.setAttribute('id', 'playerScissors');
        playerScissors.textContent = "do you choose scissors?";
        playerScissors.addEventListener('click', () => {
            playRound("scissors");
        });



        body.appendChild(playerRock);
        body.appendChild(playerPaper);
        body.appendChild(playerScissors);

        const results = document.createElement("div");

        body.appendChild(results);


        /*THE GAME*/

        /*we also have to be able to store the results of each game to declare the best of 5*/

        let computerVictories;
        let playerVictories;
        let ties;

        function playRound(input) {
            let playerChoice = input;

            const br = document.createElement("br");
            results.appendChild(br);




            console.log(input);

            const playerChoiceText = document.createTextNode(`player choice is ${playerChoice}`);
            results.appendChild(playerChoiceText);
            results.appendChild(br.cloneNode(true));



            /*we also call the function to get the computer's choice*/
            computerChoice = getComputerChoice();

            const computerChoiceText = document.createTextNode(`computer choice is ${computerChoice}`);
            results.appendChild(computerChoiceText);
            results.appendChild(br.cloneNode(true));

            /*and we evaluate the results*/

            if (playerChoice === computerChoice) {
                veredict = "tie";

            } else if (playerChoice !== computerChoice) {

                switch (playerChoice) {
                    case "scissors":
                        if (computerChoice == "paper") {
                            veredict = "player wins";
                        } else if (computerChoice == "rock") {
                            veredict = "computer wins";
                        }
                        break

                    case "paper":
                        if (computerChoice == "rock") {
                            veredict = "player wins";
                        } else if (computerChoice == "scissors") {
                            veredict = "computer wins";
                        }
                        break

                    case "rock":
                        if (computerChoice == "scissors") {
                            veredict = "player wins";
                        } else if (computerChoice == "paper") {
                            veredict = "computer wins";
                        }
                        break

                }
            }

            /*and we load the results into the variables we created*/

            if (veredict === "computer wins") {
                computerVictories++;
            } else if (veredict === "player wins") {
                playerVictories++;
            } else {
                ties++;
            }

            const veredictText = document.createTextNode(`veredict is ${veredict}`);
            results.appendChild(veredictText);
            results.appendChild(br.cloneNode(true));
        }

        //playRound();


    </script>

</body>

</html>